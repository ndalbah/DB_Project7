SQL> 
SQL> -- run script 7software
SQL> @ C:\L7Q3\7clearwater.sql
Connected.

User dropped.


User created.


Grant succeeded.


User altered.

Connected.
DROP TABLE order_line CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE shipment_line CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE shipment CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE inventory CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE color CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE item CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE category CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE orders CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE order_source CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


DROP TABLE customer CASCADE CONSTRAINTS
           *
ERROR at line 1:
ORA-00942: table or view does not exist 



Table created.


Table created.


Table created.


Table created.


Table created.


Table created.


Table created.


Table created.


Table created.


Table created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


1 row created.


Commit complete.

SQL> 
SQL> -- create view
SQL> CREATE OR REPLACE FORCE VIEW OLD_ORDER_DETAIL AS SELECT old_o_id, old_inv_id, old_ol_quantity, o_date, o_methpmt, item_desc, c_last, c_first FROM customer, orders, item, inventory, order_line, ORDER_LINE_ARCHIVE WHERE orders.c_id = customer.c_id AND ORDER_LINE_ARCHIVE.old_o_id = orders.o_id AND inventory.item_id = item.item_id AND ORDER_LINE_ARCHIVE.old_inv_id = inventory.inv_id AND ORDER_LINE_ARCHIVE.old_ol_quantity = order_line.ol_quantity;

Warning: View created with compilation errors.

SQL> 
SQL> DROP TABLE ORDER_LINE_ARCHIVE;
DROP TABLE ORDER_LINE_ARCHIVE
           *
ERROR at line 1:
ORA-00942: table or view does not exist 


SQL> 
SQL> CREATE TABLE ORDER_LINE_ARCHIVE(old_o_id NUMBER, old_inv_id NUMBER, old_ol_quantity NUMBER, CONSTRAINT o_line_arch_oldoid_oldinvid_PK PRIMARY KEY(old_o_id,old_inv_id), CONSTRAINT o_line_arch_inv_id_FK1 FOREIGN KEY (old_inv_id) REFERENCES inventory(inv_id), CONSTRAINT o_line_arch_o_id_FK2 FOREIGN KEY(old_o_id) REFERENCES orders(o_id));

Table created.

SQL> 
SQL> INSERT INTO ORDER_LINE_ARCHIVE VALUES (5, 8, 1);

1 row created.

SQL> 
SQL> SELECT * FROM ORDER_LINE_ARCHIVE;

  OLD_O_ID OLD_INV_ID OLD_OL_QUANTITY                                           
---------- ---------- ---------------                                           
         5          8               1                                           

SQL> 
SQL> -- save spool
SQL> SPOOL OFF;
